{% extends 'base.html' %}
{% load static %}

{% block title %}{{ profile.user.username }}'s Profile - Voluntree{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/volunteer_profile.css' %}">
{% endblock %}

{% block content %}
<div class="profile-page">
    <div class="profile-container">

        <!-- Profile Header -->
        <div class="profile-header">
            <div class="profile-banner"></div>
            <div class="profile-header-content">
                <div class="profile-picture-container">
                    {% if profile.profile_picture %}
                        <img src="{{ profile.profile_picture.url }}" alt="{{ profile.user.username }}" class="profile-picture">
                    {% else %}
                        <div class="profile-picture-placeholder">
                            <span>{{ profile.user.username|first|upper }}</span>
                        </div>
                    {% endif %}
                </div>

                <div class="profile-header-info">
                    <h1 class="profile-name">{{ profile.user.get_full_name|default:profile.user.username }}</h1>
                    <p class="profile-username">@{{ profile.user.username }}</p>
                    <div class="profile-meta">
                        <span class="meta-item">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            Volunteer
                        </span>
                        {% if profile.city %}
                        <span class="meta-item">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                <circle cx="12" cy="10" r="3"></circle>
                            </svg>
                            {{ profile.city }}{% if profile.country %}, {{ profile.country }}{% endif %}
                        </span>
                        {% endif %}
                        <span class="meta-item">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            Joined {{ profile.created_at|date:"F Y" }}
                        </span>
                    </div>
                </div>

                {% if profile.user == request.user %}
                <div class="profile-actions">
                    <a href="{% url 'edit_profile_volunteer' %}" class="btn-edit-profile">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                        </svg>
                        Edit Profile
                    </a>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Profile Content -->
        <div class="profile-content">

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">‚è±Ô∏è</div>
                    <div class="stat-info">
                        <span class="stat-value">{{ profile.hours_completed }}</span>
                        <span class="stat-label">Hours Volunteered</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üéØ</div>
                    <div class="stat-info">
                        <span class="stat-value">{{ profile.events_completed }}</span>
                        <span class="stat-label">Events Completed</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚≠ê</div>
                    <div class="stat-info">
                        <span class="stat-value">{{ profile.events_completed|default:"0" }}</span>
                        <span class="stat-label">Achievements</span>
                    </div>
                </div>
            </div>

            <!-- Quick Actions Row -->
            <div class="profile-actions-row">
                <a href="{% url 'my_events' %}" class="btn-my-events">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                    My Registered Events
                </a>
                <a href="{% url 'my_certificates' %}" class="btn-my-certificates">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10 9 9 9 8 9"></polyline>
                    </svg>
                    üìú My Certificates
                </a>
                <a href="{% url 'event_list' %}" class="btn-browse-events">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                    Browse Events
                </a>
            </div>

            <!-- Main Content Grid -->
            <div class="content-grid">

                <!-- Left Column -->
                <div class="content-main">

                    <!-- About Section -->
                    {% if profile.bio %}
                    <div class="info-card">
                        <h2 class="card-title">About</h2>
                        <p class="bio-text">{{ profile.bio }}</p>
                    </div>
                    {% endif %}

                    <!-- Skills Section -->
                    {% if skills_list %}
                    <div class="info-card">
                        <h2 class="card-title">Skills</h2>
                        <div class="tags-container">
                            {% for skill in skills_list %}
                                <span class="tag tag-skill">{{ skill }}</span>
                            {% endfor %}
                        </div>
                    </div>
                    {% endif %}

                    <!-- Interests Section -->
                    {% if interests_list %}
                    <div class="info-card">
                        <h2 class="card-title">Interests</h2>
                        <div class="tags-container">
                            {% for interest in interests_list %}
                                <span class="tag tag-interest">{{ interest }}</span>
                            {% endfor %}
                        </div>
                    </div>
                    {% endif %}

                    <!-- Availability Section -->
                    {% if profile.availability %}
                    <div class="info-card">
                        <h2 class="card-title">Availability</h2>
                        <p class="info-text">{{ profile.availability }}</p>
                    </div>
                    {% endif %}

                </div>

                <!-- Right Column - Sidebar -->
                <div class="content-sidebar">

                    <!-- Contact Information -->
                    <div class="info-card">
                        <h2 class="card-title">Contact Information</h2>
                        <div class="contact-list">
                            <div class="contact-item">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                                    <polyline points="22,6 12,13 2,6"></polyline>
                                </svg>
                                <span>{{ profile.user.email }}</span>
                            </div>
                            {% if profile.phone %}
                            <div class="contact-item">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                                </svg>
                                <span>{{ profile.phone }}</span>
                            </div>
                            {% endif %}
                            {% if profile.date_of_birth %}
                            <div class="contact-item">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                    <line x1="16" y1="2" x2="16" y2="6"></line>
                                    <line x1="8" y1="2" x2="8" y2="6"></line>
                                    <line x1="3" y1="10" x2="21" y2="10"></line>
                                </svg>
                                <span>{{ profile.date_of_birth|date:"F d, Y" }}</span>
                            </div>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Address Information -->
                    {% if profile.address %}
                    <div class="info-card">
                        <h2 class="card-title">Location</h2>
                        <div class="location-info">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                <circle cx="12" cy="10" r="3"></circle>
                            </svg>
                            <div>
                                <p>{{ profile.address }}</p>
                                <p>{{ profile.city }}{% if profile.country %}, {{ profile.country }}{% endif %}</p>
                            </div>
                        </div>
                    </div>
                    {% endif %}

                </div>

            </div>

        </div>

    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/volunteer_profile.js' %}"></script>
{% endblock %}